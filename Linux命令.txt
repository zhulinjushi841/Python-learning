目标：
理解学习Linux终端命令的原因
常用Linux命令体验
原因：
在职场中 大量的 服务器维护工作 都是在 远程 通过SSH客户端 来完成的 并没有图形界面 所有的维护工作都
需要通过命令来完成
在职场中 后端程序员 必须或多或少地掌握一些Linux常用的终端命令
Linux发行版本的命令大概有200多个 但是常用的命令大概只有十多个而已
学习终端命令的技巧：
不需要死记硬背 对于常用的命令 使用的次数多了 自然也就记住了
不需要尝试一次学会所有命令 有些命令是非常不常用的 临时遇到 直接百度就可以

常用Linux命令的基本使用

序号	命令		对应英文			作用
01	ls 		list			查看当前文件夹下的内容
02	pwd		print work directory 	查看当前所在文件夹
03	cd[目录名]	change directory		切换文件夹
04	touch[文件名]	touch			如果文件不存在，新建文件
05	mkdir[目录名]	make directory		创建目录
06	rm[文件名]	remove			删除指定的文件名
07	clear 		clear			清屏

小技巧
ctrl+shift+= 放大终端窗口的字体显示
ctrl +/- 缩小终端窗口的字体显示

自动补全
在敲出 文件/目录/命令 的前几个字母后 按下Tab键
如果输入的没有歧义 系统会自动补全


文件和目录常用命令

目标
查看整个路径名
pwd

查看目录内容
ls

切换目录
cd

创建和删除操作
touch
rm
mkdir

拷贝和移动文件
cp
mv

查看文件内容
cat
more
grep
其他
echo
重定向> 和 >>

1.1终端实用技巧
1>自动补全
在敲出 文件/目录/命令 的前几个字母以后，按下Tab健
	如果输入的没有歧义 系统会自动补全
	如果还存在着其他的 文件/目录/命令 就再按一下tab键 然后系统会提示可能存在的命令

2>曾经使用过的命令
按 上/下 光标键可以再曾经使用过的命令之间来回切换
如果想要退出选择 并且不想执行当前选中的命令 可以按 ctrl+C

1.2 ls 命令说明
ls 是英文单词list的简写，其功能为 列出目录的内容，是用户最常用的命令之一，类似于DOS下的dir命令

Linux下文件和目录的特点
Linux文件 或者 目录 名称最长可以有256个字符
以 . 为开头的文件为隐藏文件，需要用-a参数(all)才可以显示
.代表当前目录
..代表上一级目录 

1.3ls常用选项
参数	含义
-a	显示指定目录下所有子目录与文件，包括隐藏文件
-l	以列表方式显示文件的详细信息
-h	配合 -l以人性化的方式显示文件大小

注意：在Linux系统中 文件夹默认是以蓝色的字体显示，文件是以白色的字体显示

1.4ls通配符的使用
通配符的意思是一种符号，可以被用来代表其他字符
通配符	含义
*		代表任意个数个字符
？		代表任意一个字符，只能1个
[]		表示可以匹配字符组中的任一一个
[abc]		匹配a、b、c中的任意一个
[a-f]		匹配从a到f范围内的任意一个字符



02.切换目录
2.1 cd
cd 是英文单词  change directory的简写，其功能为更改当前的工作目录，也是用户最常用的命令之一
注意：Linux系统所有的 目录 和 文件名 都是大小写敏感的
命令	含义
cd	切换到当前用户的主目录(/home/用户目录)
cd~	切换到当前用户的主目录
cd.	保持在当前目录不变
cd..	切换到上级目录
cd-	可以在最近两次工作目录之间来回切换
2.2相对路径和绝对路径
相对路径 在输入路径时，最前面不是/或者~，表示相对 当前目录 所在的目录位置
绝对路径 在输入路径时，最前面是/或者~，表示从 根目录/家目录 开始的具体目录位置
/表示根目录 ~表示家目录

03.创建和删除操作
3.1touch
创建文件或者修改文件时间
如果文件 不存在，可以创建一个空白文件
如果文件 已经存在，可以修改文件的末次修改日期
touch a/b/c/123.txt


3.2mkdir
创建一个新的目录
选项	含义
-p	可以递归创建目录
mkdir -p a/b/c
新建目录的名称 不能与当前目录中 已有的目录或者文件 同名

3.3rm
删除文件或者目录
使用rm命令要小心，因为文件删除后不能恢复
参数	含义
-f	强制删除，忽略不存在的文件，无需提示
-r	递归地删除目录下的内容，删除文件夹时必须加此参数

绝对不能在家目录下使用 rm -rf *		使用该命令会使得系统下的文件全部被清空


04.拷贝和移动文件
序号	命令			对应英文		作用
01	tree[目录名]		tree			以树状图列出文件目录结构
02	cp 源文件 目标文件	copy			复制文件或者目录
03	mv 源文件 目标文件move 		移动文件或者目录/文件或者目录重命名

4.1tree
tree命令可以以树状图列出文件目录结构
选项	含义
-d	只显示目录

4.2cp
cp命令的功能是将给出的 文件 或 目录 复制到另一个 文件 或者 目录 中，相当于DOS下的copy命令
选项	含义
-i	覆盖文件前提示
-r	若给出的源文件是目标文件，则cp
	将递归复制该目录下的所有子目录和文件
cp ~/Documents/readme.txt  ./readme.txt
如果复制的文件名保持不变，只需要使用下述命令,也即只需指定路径即可
cp ~/Documents/readme.txt .


4.3mv
mv命令可以用来 移动 文件 或 目录，也可以给 文件或目录重命名

stop at P34



05.查看文件内容
序号	命令			对应英文	作用
01	cat 文件名		concatenate	查看文件内容、创建文件、文件合并、追加文件内容等功能
02	more 文件名		more		分屏显示文件内容
03	grep搜索文本	grep		搜索文本文件内容
	文件名	

5.1cat
cat命令可以用来 查看文件内容、创建文件、文件合并、追加文件内容 等功能
cat会一次显示所有的内容，适合 查看内容较少 的文本文件
选项	含义
-b	对非空输出行编号	也即当行为空的时候不输出行号，仅对非空行输出行号
-n	对输出的所有行编号  也即无论行是否为空，都需要输出行号
Linux中还有一个nl 的命令和 cat -b的效果等价

5.2more
more命令可以用于分屏显示文件内容，每次只显示一页内容
适合于 查看内容较多的文本文件

也即cat可以将文件内容一次全部显示出来，而more可以将文件内容分屏显示，因此more适合于查看内容较多的
文本文件

操作键	功能
空格键	显示手册页的下一屏
Enter键	一次滚动手册页的一行
b		回滚一屏
f		前滚一屏
q		退出
/word		搜索word字符串

5.3grep
Linux系统中grep命令是一种强大的文本搜索工具
grep允许对文本文件进行 模式查找，所谓模式查找，又被成为正则表达式

选项	含义
-n	显示匹配行及行号
-v	显示不包含匹配文本的所有行(相当于求反）
-i	忽略大小写

grep as 123.txt
所有123.txt中包含有as的都会被显示出来

grep -n as 123.txt

grep -i hello 123.txt

常用的两种 模式查找
模式	含义
^a	行首，搜寻以a开头的行
ke$	行尾，搜寻以ke结束的行

grep ^f 123.txt
grep -n a$ 123.txt


06.其他
6.1echo 文字内容
echo会在终端中显示参数指定的文字，通常会和 重定向 联合使用

6.2重定向>和>>
Linux允许将命令执行结果 重定向到一个文件
将本应显示在终端上的内容 输出/追加 到指定文件中
其中
>表示输出，会覆盖文件原有的内容
>>表示追加，会将内容追加到已有文件的末尾

6.3 管道 |
Linux允许将一个命令的输出 可以通过管道 作为 另一个命令的输入
可以理解现实生活中的管子，管子的一头塞东西进去，另一头取出来，这里 | 的左右
分为两端，左端塞东西(写）,右端取东西(读)
常用的管道命令有：
more：分屏显示内容
grep：在命令执行结果的基础上查询指定的文本







远程管理常用命令
目标
关机/重启
shutdown
查看或配置网卡信息
ifconfig
ping
远程登录和复制文件
ssh
scp

01.关机/重启
序号	命令				对应英文	作用
01	shutdown 选项 时间	shutdown	关机/重新启动

1.1shutdown
shutdown命令可以 安全 关闭 或 重新启动系统
选项	含义
-r	重新启动

提示：
不指定选项和参数，默认表示1分钟之后 关闭电脑
远程维护服务器时，最好不要关闭系统，而应该重新启动系统

常用命令示例：
#重新启动操作系统，其中now表示现在
$shutdown -r now

#立刻关机，其中now表示现在
$shutdown now

#系统在今天的20：25会关机
$shutdown 20:25

#系统再过十分钟后自动关机
$shutdown +10

#取消之前指定的关机计划
$shutdown -c



02.查看或者配置网卡信息
序列	命令		对应英文				作用
01	ifconfig	configure a network interface	查看/配置计算机当前的网卡配置信息
02	ping ip地址	ping					检测到目标ip地址的连接是否正常
2.1网卡和ip地址
网卡
网卡是一个专门负责网络通讯的硬件设备 负责计算机之间相互通讯
IP地址是设置在网卡上的地址信息
我们可以把 电脑 比作 电话，网卡 相当于 SIM卡，IP地址 相当于 电话号码
IP地址
每台联网的电脑上都有IP地址，是保证电脑之间正常通讯的重要设置
注意：每台电脑的IP地址不能相同，否则就会出现IP地址冲突，并且没有办法正常通讯
2.2ifconfig
ifconfig可以查看/配置计算机当前的网卡配置信息
#查看网卡配置信息
$ifconfig

#查看网卡对应的IP地址
$ifconfig | gerp inet

提示：一台计算机中有可能会有一个 物理网卡 和 多个虚拟网卡，在Linux中物理网卡
的名字通常以ensXX表示
127.0.0.1被称为 本地回环/环回地址，一般用来测试本机网卡是否正常

2.3ping
#检测到目标是否连接正常
$ping IP地址

#检测本地网卡工作正常
$ping 127.0.0.1

ping一般用于检测网络 通与不通，数值越大，速度越慢
ping的工作原理与潜水艇的声呐类似，ping这个命令就是取自 声呐的声音
网络管理员之间也常用 ping 用作动词 ——ping以下计算机X，看他是否开着
原理：网络上的计算机都有着 唯一确定的IP地址，我们给目标IP地址发送一个数据包，
对方就要返回一个数据包，根据返回的数据包以及时间，我们可以确定目标主机的存在

提示:在Linux中，想要终止一个终端程序的执行，绝大多数都可以使用 CTRL+C


03.远程登录和复制文件
序号	命令									对应英文	作用
01	ssh用户名@ip							secure shell	关机/重新启动
02	scp用户名@ip:文件名或路径 用户名@ip:文件名或路径	secure copy	远程复制文件
3.1 ssh基础(重点)
在Linux中SSH是非常常用的工具，通过SSH客户端 我们可以连接到运行了SSH服务器 的远程机器上
数据传输是加密的，可以防止信息泄露
数据传输是压缩的，可以提高传输效率
SSH客户端————————————————>SSH服务端

注意：在mac OS和Linux上SSH客户端是默认安装的，只有Windows系统才需要单独安装

SSH客户端是一种使用 Secure Shell(SSH)协议连接到远程计算机的软件程序
SSH是目前较为可靠，专为远程登录回话和其他网络服务 提供安全性的协议
利用SSH协议 可以有效防止远程管理过程中的信息泄露
通过SSH协议 可以对所有传输的数据进行加密，也能够防止DNS欺骗和IP欺骗
SSH的另一个优点就是对传输的数据可以是经过压缩的，所以可以加快传输的速度

1）域名 和 端口号
域名
由一串 用点分隔 的名字组成，例如：www.itcast.cn
是IP地址的别名，方便用户记忆
端口号
IP地址：通过IP地址 找到网络上的计算机
端口号：通过 端口号 可以找到 计算机上运行的应用程序
	SSH服务器的默认端口是22，如果是默认端口号，在连接的时候，可以省略
常见服务端口列表：
序号	服务		端口号
01	SSH服务器	22
02	Web服务器	80
03	HTTPS	443
04	FTP服务器	21
在日常访问服务器的时候，首先是通过IP地址找到计算机，再通过端口号找到计算机上安装的程序，然后
用户才可以看到访问结果 通过端口号找到相应的程序后才能提供相应的服务

2）SSH客户端的简单使用
ssh [-p port] user@remote
user是在远程机器上的用户名，如果不指定的话就默认为当前用户
remote是远程机器的地址，可以是IP/域名，或者是 后面会提到的别名
port是SSH Server监听的端口，如果不指定，就为默认值22

提示：
使用exit退出当前用户的登录

注意：
ssh这个终端命令只能在Linux或者UNIX系统下使用
如果在Windows系统中，可以安装PuTTY或者XShell客户端软件即可
提示：
在工作中，SSH服务器的端口号很可能不是22，如果遇到这种情况，就需要使用 -p选项，指定
正确的端口号，否则无法正常连接到服务器

用mac电脑使用ssh连接ubuntu
￥ssh -p 22 python@172.16.140.138
#其他的命令和linux系统上完全一致，也即可以在mac电脑上使用终端命令对远程服务器进行操作
3）Windows下SSH客户端的安装
Putty 		http://www.chiark.greenend.org.uk/~sgtatham/putty/latest.html
XShell		http://xshellcn.com
建议从官方网站上加载真正的安装程序
 stop at 51




用户权限相关命令
目标
用户 和 权限 的基本概念
用户管理 终端命令
组管理 终端命令
修改权限 终端命令

01.用户 和 权限 的基本概念
1.1基本概念
用户 是Linux系统工作中重要的一环，用户管理包括 用户 与 组 管理
在Linux系统中，不论是由本机或是远程登录系统，每个系统都必须拥有一个账号，并且对于不同的
系统资源拥有不同的使用权限
对 文件/目录 的权限包括：
序号	权限	英文		缩写	数字代号
01	读	read		r	4
02	写	write		w	2
03	执行	excute	x	1
04	无权限		-	0
在Linux中，可以指定 每一个用户 针对 不同的文件或者目录 的不同权限

1.2组
为了方便用户管理，提出了 组 的概念
在实际应用中，可以预先针对 组 设置好权限，然后 将不同的用户添加到对应的组中，从而不用一次为
每一个用户设置权限
1.3 ls -l 扩展
ls -l 可以查看文件夹下文件的详细信息，从左到右依次是：
权限：第1个字符如果是d表示目录
硬链接数：通俗地将，就是有多少种方式，可以访问到当前目录/文件
拥有者：家目录下 文件/目录 的拥有者通常都是当前用户
组，在Linux中，很多时候，会出现组名和用户名和相同的情况，后续会讲
大小
时间
名称

			目录	拥有者权限	组权限	其他用户权限
文件权限示例	-	r w -		r w -		r - -
目录全新示例	d	r w x		r w x		r - x
stop at P62





1.5超级用户
Linux系统中的root账号通常 用于系统的维护和管理，对操作系统的所有资源 具有所有访问权限
在大多数版本的Linux中，都不推荐 直接使用root账号登录系统
在Linux安装的过程中，系统会自动创建一个用户账号，而这个默认的用户就称为"标准用户"

sudo
su是substitute user的缩写，表示 使用另一个用户的身份
sudo命令用来以其他身份来执行命令，预设的身份为root
用户使用sudo时，必须先输入密码，之后有5分钟的有效期限，超过期限就必须重新输入密码
若未经授权的用户企图使用sudo，则会发出警告邮件给管理员














03.用户管理 终端命令
提示：创建用户/删除用户/修改其他用户密码 的终端命令都需要通过 sudo 来执行
3.1 创建用户/设置密码/删除用户
序号	命令				作用			说明
01	useradd -m -g 组		添加新用户		-m 自动建立用户家目录
	新建用户名						-g 指定用户所在的组，否则会建立一个和同名的组
02	passwd 用户名		设置用户密码	如果是普通用户，直接用passwd
								可以修改自己的账户密码
03	userdel -r 用户名		删除用户		-r选项会自动删除用户家目录

04	cat/etc/passwd |grep	确定用户信息	新建用户后，用户信息会保存在/etc/passwd
	用户名						文件中
提示：
创建用户时，如果忘记添加-m选项指定新用户的家目录——最简单的方法就是删除用户，重新创建
创建用户时，默认会创建一个和用户名同名的组名
用户信息保存在 /etc/passwd 文件中




